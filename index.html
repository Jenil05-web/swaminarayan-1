<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Scan Here for Entry Details</title>
  <!-- Include the QRCode.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    // This function generates the two QR codes.
    function generateQRCodes() {
      // Get the containers where the QR codes will be rendered.
      const qrContainer1 = document.getElementById("qrContainer1");
      const qrContainer2 = document.getElementById("qrContainer2");

      // Clear previously generated codes, so the old ones "expire"
      qrContainer1.innerHTML = "";
      qrContainer2.innerHTML = "";

      // These are the constant Google Form URLs.
      const formUrl1 = "https://docs.google.com/forms/d/e/1FAIpQLSf94jLm-MBSgrAgYRMKn9kPyonZdAB8IrTq-ODmLd0QFYHPug/viewform";
      const formUrl2 = "https://docs.google.com/forms/d/1yf0ccQD4kPVM1368aFG-E3cM6mcHiHMv0HVbWTTK4G4/edit";

      // Generate the first QR code (Existing QR Code).
      new QRCode(qrContainer1, {
        text: formUrl1,
        width: 200,
        height: 200,
        correctLevel: QRCode.CorrectLevel.H
      });

      // Generate the second QR code (New QR Code).
      new QRCode(qrContainer2, {
        text: formUrl2,
        width: 200,
        height: 200,
        correctLevel: QRCode.CorrectLevel.H
      });

      // Optionally, display a message indicating when the next refresh will occur.
      const nextRefresh = new Date(Date.now() + 20000);
      document.getElementById("expiryDisplay").innerText =
        "QR codes will refresh at: " + nextRefresh.toLocaleTimeString();
      
      console.log("QR codes generated for URLs:", formUrl1, formUrl2);
    }

    // When the window loads, generate the codes once and then refresh every 20 seconds.
    window.onload = function() {
      generateQRCodes();
      setInterval(generateQRCodes, 20000);
    };
  </script>
</head>
<body>
  <h1>Scan Here for Entry Details</h1>
  <p>Scan the QR codes below:</p>

  <h3>Existing QR Code</h3>
  <div id="qrContainer1"></div>

  <h3>New QR Code</h3>
  <div id="qrContainer2"></div>

  <p id="expiryDisplay"></p>
</body>
</html>
